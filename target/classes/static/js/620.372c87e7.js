(self["webpackChunkyggdrasil_client"]=self["webpackChunkyggdrasil_client"]||[]).push([[620],{2708:function(t,e,s){s(7658),s(3767),s(8585),s(8696),s(541),function(e,s){t.exports=s()}(0,(function(){"use strict";function t(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function e(e){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?t(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(t,e,s){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const i=(t,e,s,i)=>(t=""+t,e=""+e,i&&(t=t.trim(),e=e.trim()),s?t==e:t.toLowerCase()==e.toLowerCase()),a=(t,e)=>t&&Array.isArray(t)&&t.map((t=>n(t,e)));function n(t,e){var s,i={};for(s in t)e.indexOf(s)<0&&(i[s]=t[s]);return i}function r(t){var e=document.createElement("div");return t.replace(/\&#?[0-9a-z]+;/gi,(function(t){return e.innerHTML=t,e.innerText}))}function o(t){return(new DOMParser).parseFromString(t.trim(),"text/html").body.firstElementChild}function l(t,e){for(e=e||"previous";t=t[e+"Sibling"];)if(3==t.nodeType)return t}function d(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):t}function h(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return t===Object(t)&&"Array"!=e&&"Function"!=e&&"RegExp"!=e&&"HTMLUnknownElement"!=e}function c(t,e,s){function i(t,e){for(var s in e)if(e.hasOwnProperty(s)){if(h(e[s])){h(t[s])?i(t[s],e[s]):t[s]=Object.assign({},e[s]);continue}if(Array.isArray(e[s])){t[s]=Object.assign([],e[s]);continue}t[s]=e[s]}}return t instanceof Object||(t={}),i(t,e),s&&i(t,s),t}function u(){const t=[],e={};for(let s of arguments)for(let i of s)h(i)?e[i.value]||(t.push(i),e[i.value]=1):t.includes(i)||t.push(i);return t}function g(t){return String.prototype.normalize?"string"==typeof t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:t}var p=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function m(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}function f(t){return t&&t.classList&&t.classList.contains(this.settings.classNames.tag)}function v(t,e){var s=window.getSelection();return e=e||s.getRangeAt(0),"string"==typeof t&&(t=document.createTextNode(t)),e&&(e.deleteContents(),e.insertNode(t)),t}function w(t,e,s){return t?(e&&(t.__tagifyTagData=s?e:c({},t.__tagifyTagData||{},e)),t.__tagifyTagData):(console.warn("tag element doesn't exist",t,e),e)}var y={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:" "},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function b(){this.dropdown={};for(let t in this._dropdown)this.dropdown[t]="function"==typeof this._dropdown[t]?this._dropdown[t].bind(this):this._dropdown[t];this.dropdown.refs()}var T={refs(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(t){var e,s,a,n=this.settings,r="mix"==n.mode&&!n.enforceWhitelist,o=!n.whitelist||!n.whitelist.length,l="manual"==n.dropdown.position;if(t=void 0===t?this.state.inputText:t,!(o&&!r&&!n.templates.dropdownItemNoMatch||!1===n.dropdown.enable||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(t),t&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",t),n.templates.dropdownItemNoMatch&&(a=n.templates.dropdownItemNoMatch.call(this,{value:t}))),!a){if(this.suggestedListItems.length)t&&r&&!this.state.editing.scope&&!i(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!r||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:t}]}s=""+(h(e=this.suggestedListItems[0])?e.value:e),n.autoComplete&&s&&0==s.indexOf(t)&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill(a),n.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(n.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=t||!0,this.state.dropdown.query=t,this.setStateSelection(),l||setTimeout((()=>{this.dropdown.position(),this.dropdown.render()})),setTimeout((()=>{this.trigger("dropdown:show",this.DOM.dropdown)}))}},hide(t){var e=this.DOM,s=e.scope,i=e.dropdown,a="manual"==this.settings.dropdown.position&&!t;if(i&&document.body.contains(i)&&!a)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),s.setAttribute("aria-expanded",!1),i.parentNode.removeChild(i),setTimeout((()=>{this.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",i),this},toggle(t){this.dropdown[this.state.dropdown.visible&&!t?"hide":"show"]()},render(){var t,e,s,i=(t=this.DOM.dropdown,(s=t.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(s),e=s.clientHeight,s.parentNode.removeChild(s),e),a=this.settings;return"number"==typeof a.dropdown.enabled&&a.dropdown.enabled>=0?(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(a.classNames.dropdownInital),this.dropdown.position(i),a.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout((()=>this.DOM.dropdown.classList.remove(a.classNames.dropdownInital)))),this):this},fill(t){t="string"==typeof t?t:this.dropdown.createListHTML(t||this.suggestedListItems);var e,s=this.settings.templates.dropdownContent.call(this,t);this.DOM.dropdown.content.innerHTML=(e=s)?e.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,((t,e)=>e||" ")):""},fillHeaderFooter(){var t=this.dropdown.filterListItems(this.state.dropdown.query),e=this.parseTemplate("dropdownHeader",[t]),s=this.parseTemplate("dropdownFooter",[t]),i=this.dropdown.getHeaderRef(),a=this.dropdown.getFooterRef();e&&i?.parentNode.replaceChild(e,i),s&&a?.parentNode.replaceChild(s,a)},refilter(t){t=t||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(t),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(t){var e=this.settings.dropdown;if("manual"!=e.position){var s,i,a,n,r,o,l=this.DOM.dropdown,d=e.placeAbove,h=e.appendTarget===document.body,c=h?window.pageYOffset:e.appendTarget.scrollTop,u=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,g=u.clientHeight,p=Math.max(u.clientWidth||0,window.innerWidth||0)>480?e.position:"all",m=this.DOM["input"==p?"input":"scope"];if(t=t||l.clientHeight,this.state.dropdown.visible){if("text"==p?(a=(s=function(){const t=document.getSelection();if(t.rangeCount){const e=t.getRangeAt(0),s=e.startContainer,i=e.startOffset;let a,n;if(i>0)return n=document.createRange(),n.setStart(s,i-1),n.setEnd(s,i),a=n.getBoundingClientRect(),{left:a.right,top:a.top,bottom:a.bottom};if(s.getBoundingClientRect)return s.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,i=s.top,n=s.left,r="auto"):(o=function(t){for(var e=0,s=0;t&&t!=u;)e+=t.offsetLeft||0,s+=t.offsetTop||0,t=t.parentNode;return{left:e,top:s}}(e.appendTarget),i=(s=m.getBoundingClientRect()).top-o.top,a=s.bottom-1-o.top,n=s.left-o.left,r=s.width+"px"),!h){let t=function(){for(var t=0,s=e.appendTarget.parentNode;s;)t+=s.scrollTop||0,s=s.parentNode;return t}();i+=t,a+=t}i=Math.floor(i),a=Math.ceil(a),d=void 0===d?g-s.bottom<t:d,l.style.cssText="left:"+(n+window.pageXOffset)+"px; width:"+r+";"+(d?"top: "+(i+c)+"px":"top: "+(a+c)+"px"),l.setAttribute("placement",d?"top":"bottom"),l.setAttribute("position",p)}}},events:{binding(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e=this.dropdown.events.callbacks,s=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:e.onKeyDown.bind(this),onMouseOver:e.onMouseOver.bind(this),onMouseLeave:e.onMouseLeave.bind(this),onClick:e.onClick.bind(this),onScroll:e.onScroll.bind(this)},i=t?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(document[i]("scroll",s.position,!0),window[i]("resize",s.position),window[i]("keydown",s.onKeyDown)),this.DOM.dropdown[i]("mouseover",s.onMouseOver),this.DOM.dropdown[i]("mouseleave",s.onMouseLeave),this.DOM.dropdown[i]("mousedown",s.onClick),this.DOM.dropdown.content[i]("scroll",s.onScroll)},callbacks:{onKeyDown(t){if(this.state.hasFocus&&!this.state.composing){var e=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),s=this.dropdown.getSuggestionDataByNode(e);switch(t.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":t.preventDefault();var i=this.dropdown.getAllSuggestionsRefs(),a="ArrowUp"==t.key||"Up"==t.key;e&&(e=this.dropdown.getNextOrPrevOption(e,!a)),e&&e.matches(this.settings.classNames.dropdownItemSelector)||(e=i[a?i.length-1:0]),this.dropdown.highlightOption(e,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&e&&!this.settings.autoComplete.rightKey&&!this.state.editing){t.preventDefault();var n=this.dropdown.getMappedValue(s);return this.input.autocomplete.set.call(this,n),!1}return!0;case"Enter":t.preventDefault(),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:s,suggestionElm:e}).then((()=>{if(e)return this.dropdown.selectOption(e),e=this.dropdown.getNextOrPrevOption(e,!a),void this.dropdown.highlightOption(e);this.dropdown.hide(),"mix"!=this.settings.mode&&this.addTags(this.state.inputText.trim(),!0)})).catch((t=>t));break;case"Backspace":{if("mix"==this.settings.mode||this.state.editing.scope)return;const t=this.input.raw.call(this);""!=t&&8203!=t.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}}}},onMouseOver(t){var e=t.target.closest(this.settings.classNames.dropdownItemSelector);e&&this.dropdown.highlightOption(e)},onMouseLeave(t){this.dropdown.highlightOption()},onClick(t){if(0==t.button&&t.target!=this.DOM.dropdown&&t.target!=this.DOM.dropdown.content){var e=t.target.closest(this.settings.classNames.dropdownItemSelector),s=this.dropdown.getSuggestionDataByNode(e);this.state.actions.selectOption=!0,setTimeout((()=>this.state.actions.selectOption=!1),50),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:s,suggestionElm:e}).then((()=>{e?this.dropdown.selectOption(e,t):this.dropdown.hide()})).catch((t=>console.warn(t)))}},onScroll(t){var e=t.target,s=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(s)})}}},getSuggestionDataByNode(t){var e=t&&t.getAttribute("value");return this.suggestedListItems.find((t=>t.value==e))||null},getNextOrPrevOption(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var s=this.dropdown.getAllSuggestionsRefs(),i=s.findIndex((e=>e===t));return e?s[i+1]:s[i-1]},highlightOption(t,e){var s,i=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(i),this.state.ddItemElm.removeAttribute("aria-selected")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);s=this.dropdown.getSuggestionDataByNode(t),this.state.ddItemData=s,this.state.ddItemElm=t,t.classList.add(i),t.setAttribute("aria-selected",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,s),this.dropdown.position())},selectOption(t,e){var s=this.settings.dropdown,i=s.clearOnSelect,a=s.closeOnSelect;if(!t)return this.addTags(this.state.inputText,!0),void(a&&this.dropdown.hide());e=e||{};var n=t.getAttribute("value"),r="noMatch"==n,o=this.suggestedListItems.find((t=>(t.value??t)==n));this.trigger("dropdown:select",{data:o,elm:t,event:e}),n&&(o||r)?(this.state.editing?this.onEditTagDone(null,c({__isValid:!0},this.normalizeTags([o])[0])):this["mix"==this.settings.mode?"addMixTags":"addTags"]([o||this.input.raw.call(this)],i),this.DOM.input.parentNode&&(setTimeout((()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)})),a&&setTimeout(this.dropdown.hide.bind(this)),t.addEventListener("transitionend",(()=>{this.dropdown.fillHeaderFooter(),setTimeout((()=>t.remove()),100)}),{once:!0}),t.classList.add(this.settings.classNames.dropdownItemHidden))):a&&setTimeout(this.dropdown.hide.bind(this))},selectAll(t){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var e=this.dropdown.filterListItems("");return t||(e=this.state.dropdown.suggestions),this.addTags(e,!0),this},filterListItems(t,e){var s,i,a,n,r,o=this.settings,l=o.dropdown,d=(e=e||{},[]),c=[],u=o.whitelist,p=l.maxItems>=0?l.maxItems:1/0,m=l.searchKeys,f=0;if(!(t="select"==o.mode&&this.value.length&&this.value[0][o.tagTextProp]==t?"":t)||!m.length)return d=l.includeSelectedTags?u:u.filter((t=>!this.isTagDuplicate(h(t)?t.value:t))),this.state.dropdown.suggestions=d,d.slice(0,p);function v(t,e){return e.toLowerCase().split(" ").every((e=>t.includes(e.toLowerCase())))}for(r=l.caseSensitive?""+t:(""+t).toLowerCase();f<u.length;f++){let t,o;s=u[f]instanceof Object?u[f]:{value:u[f]};let p=Object.keys(s).some((t=>m.includes(t)))?m:["value"];l.fuzzySearch&&!e.exact?(a=p.reduce(((t,e)=>t+" "+(s[e]||"")),"").toLowerCase().trim(),l.accentedSearch&&(a=g(a),r=g(r)),t=0==a.indexOf(r),o=a===r,i=v(a,r)):(t=!0,i=p.some((t=>{var i=""+(s[t]||"");return l.accentedSearch&&(i=g(i),r=g(r)),l.caseSensitive||(i=i.toLowerCase()),o=i===r,e.exact?i===r:0==i.indexOf(r)}))),n=!l.includeSelectedTags&&this.isTagDuplicate(h(s)?s.value:s),i&&!n&&(o&&t?c.push(s):"startsWith"==l.sortby&&t?d.unshift(s):d.push(s))}return this.state.dropdown.suggestions=c.concat(d),"function"==typeof l.sortby?l.sortby(c.concat(d),r):c.concat(d).slice(0,p)},getMappedValue(t){var e=this.settings.dropdown.mapValueTo;return e?"function"==typeof e?e(t):t[e]||t.value:t.value},createListHTML(t){return c([],t).map(((t,s)=>{"string"!=typeof t&&"number"!=typeof t||(t={value:t});var i=this.dropdown.getMappedValue(t);return i="string"==typeof i?d(i):i,this.settings.templates.dropdownItem.apply(this,[e(e({},t),{},{mappedValue:i}),this])})).join("")}};const x="@yaireo/tagify/";var D,S={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},C={wrapper:(t,e)=>`<tags class="${e.classNames.namespace} ${e.mode?`${e.classNames[e.mode+"Mode"]}`:""} ${t.className}"\n                    ${e.readonly?"readonly":""}\n                    ${e.disabled?"disabled":""}\n                    ${e.required?"required":""}\n                    ${"select"===e.mode?"spellcheck='false'":""}\n                    tabIndex="-1">\n            <span ${!e.readonly&&e.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${e.placeholder||"&#8203;"}" aria-placeholder="${e.placeholder||""}"\n                class="${e.classNames.input}"\n                role="textbox"\n                aria-autocomplete="both"\n                aria-multiline="${"mix"==e.mode}"></span>\n                &#8203;\n        </tags>`,tag(t,e){let s=e.settings;return`<tag title="${t.title||t.value}"\n                    contenteditable='false'\n                    spellcheck='false'\n                    tabIndex="${s.a11y.focusableTags?0:-1}"\n                    class="${s.classNames.tag} ${t.class||""}"\n                    ${this.getAttributes(t)}>\n            <x title='' class="${s.classNames.tagX}" role='button' aria-label='remove tag'></x>\n            <div>\n                <span class="${s.classNames.tagText}">${t[s.tagTextProp]||t.value}</span>\n            </div>\n        </tag>`},dropdown(t){var e=t.dropdown,s="manual"==e.position,i=`${t.classNames.dropdown}`;return`<div class="${s?"":i} ${e.classname}" role="listbox" aria-labelledby="dropdown">\n                    <div data-selector='tagify-suggestions-wrapper' class="${t.classNames.dropdownWrapper}"></div>\n                </div>`},dropdownContent(t){var e=this.settings,s=this.state.dropdown.suggestions;return`\n            ${e.templates.dropdownHeader.call(this,s)}\n            ${t}\n            ${e.templates.dropdownFooter.call(this,s)}\n        `},dropdownItem(t){return`<div ${this.getAttributes(t)}\n                    class='${this.settings.classNames.dropdownItem} ${t.class?t.class:""}'\n                    tabindex="0"\n                    role="option">${t.mappedValue||t.value}</div>`},dropdownHeader(t){return`<header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownHeader}"></header>`},dropdownFooter(t){var e=t.length-this.settings.dropdown.maxItems;return e>0?`<footer data-selector='tagify-suggestions-footer' class="${this.settings.classNames.dropdownFooter}">\n                ${e} more items. Refine your search.\n            </footer>`:""},dropdownItemNoMatch:null},k={customBinding(){this.customEventsList.forEach((t=>{this.on(t,this.settings.callbacks[t])}))},binding(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,s=this.events.callbacks,i=t?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!t){for(var a in this.state.mainEvents=t,t&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:["input",s.onFocusBlur.bind(this)],keydown:["input",s.onKeydown.bind(this)],click:["scope",s.onClickScope.bind(this)],dblclick:["scope",s.onDoubleClickScope.bind(this)],paste:["input",s.onPaste.bind(this)],drop:["input",s.onDrop.bind(this)],compositionstart:["input",s.onCompositionStart.bind(this)],compositionend:["input",s.onCompositionEnd.bind(this)]})this.DOM[e[a][0]][i](a,e[a][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(s.observeOriginalInputValue.bind(this),500);var n=this.listeners.main.inputMutationObserver||new MutationObserver(s.onInputDOMChange.bind(this));n.disconnect(),"mix"==this.settings.mode&&n.observe(this.DOM.input,{childList:!0})}},bindGlobal(t){var e,s=this.events.callbacks,i=t?"removeEventListener":"addEventListener";if(this.listeners&&(t||!this.listeners.global))for(e of(this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:s[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:s.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:s.onFocusBlur.bind(this)},{type:"click",target:document,cb:s.onClickAnywhere.bind(this)}],this.listeners.global))e.target[i](e.type,e.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(t){var e=this.settings,s=t.target?this.trim(t.target.textContent):"",i=this.value?.[0]?.[e.tagTextProp],a=t.type,n=e.dropdown.enabled>=0,r={relatedTarget:t.relatedTarget},o=this.state.actions.selectOption&&(n||!e.dropdown.closeOnSelect),l=this.state.actions.addNew&&n,d=t.relatedTarget&&f.call(this,t.relatedTarget)&&this.DOM.scope.contains(t.relatedTarget);if("blur"==a){if(t.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),e.onChangeAfterBlur&&this.triggerChangeEvent()}if(!o&&!l)if(this.state.hasFocus="focus"==a&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=e.mode){if("focus"==a)return this.trigger("focus",r),void(0!==e.dropdown.enabled&&e.userInput||this.dropdown.show(this.value.length?"":void 0));"blur"==a&&(this.trigger("blur",r),this.loading(!1),"select"==e.mode&&(d&&(this.removeTags(),s=""),i===s&&(s="")),s&&!this.state.actions.selectOption&&e.addTagOnBlur&&this.addTags(s,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else"focus"==a?this.trigger("focus",r):"blur"==t.type&&(this.trigger("blur",r),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(t){this.state.composing=!0},onCompositionEnd(t){this.state.composing=!1},onWindowKeyDown(t){var e,s=document.activeElement,i=f.call(this,s)&&this.DOM.scope.contains(document.activeElement),a=i&&s.hasAttribute("readonly");if(i&&!a)switch(e=s.nextElementSibling,t.key){case"Backspace":this.settings.readonly||(this.removeTags(s),(e||this.DOM.input).focus());break;case"Enter":setTimeout(this.editTag.bind(this),0,s)}},onKeydown(t){var e=this.settings;if(!this.state.composing&&e.userInput){"select"==e.mode&&e.enforceWhitelist&&this.value.length&&"Tab"!=t.key&&t.preventDefault();var s=this.trim(t.target.textContent);if(this.trigger("keydown",{event:t}),"mix"==e.mode){switch(t.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var i=document.getSelection(),a="Delete"==t.key&&i.anchorOffset==(i.anchorNode.length||0),n=i.anchorNode.previousSibling,o=1==i.anchorNode.nodeType||!i.anchorOffset&&n&&1==n.nodeType&&i.anchorNode.previousSibling;r(this.DOM.input.innerHTML);var d,h,c,u=this.getTagElms();if("edit"==e.backspace&&o)return d=1==i.anchorNode.nodeType?null:i.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,d),void t.preventDefault();if(p()&&o instanceof Element)return c=l(o),o.hasAttribute("readonly")||o.remove(),this.DOM.input.focus(),void setTimeout((()=>{this.placeCaretAfterNode(c),this.DOM.input.click()}));if("BR"==i.anchorNode.nodeName)return;if((a||o)&&1==i.anchorNode.nodeType?h=0==i.anchorOffset?a?u[0]:null:u[Math.min(u.length,i.anchorOffset)-1]:a?h=i.anchorNode.nextElementSibling:o instanceof Element&&(h=o),3==i.anchorNode.nodeType&&!i.anchorNode.nodeValue&&i.anchorNode.previousElementSibling&&t.preventDefault(),(o||a)&&!e.backspace)return void t.preventDefault();if("Range"!=i.type&&!i.anchorOffset&&i.anchorNode==this.DOM.input&&"Delete"!=t.key)return void t.preventDefault();if("Range"!=i.type&&h&&h.hasAttribute("readonly"))return void this.placeCaretAfterNode(l(h));clearTimeout(D),D=setTimeout((()=>{var t=document.getSelection();r(this.DOM.input.innerHTML),!a&&t.anchorNode.previousSibling,this.value=[].map.call(u,((t,e)=>{var s=w(t);if(t.parentNode||s.readonly)return s;this.trigger("remove",{tag:t,index:e,data:s})})).filter((t=>t))}),20)}return!0}switch(t.key){case"Backspace":"select"==e.mode&&e.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&"manual"!=e.dropdown.position||""!=t.target.textContent&&8203!=s.charCodeAt(0)||(!0===e.backspace?this.removeTags():"edit"==e.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;t.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let t=this.state.inputSuggestion||this.state.ddItemData;if(t&&e.autoComplete.rightKey)return void this.addTags([t],!0);break}case"Tab":{let i="select"==e.mode;if(!s||i)return!0;t.preventDefault()}case"Enter":if(this.state.dropdown.visible&&"manual"!=e.dropdown.position)return;t.preventDefault(),setTimeout((()=>{this.state.dropdown.visible||this.state.actions.selectOption||this.addTags(s,!0)}))}}},onInput(t){this.postUpdate();var e=this.settings;if("mix"==e.mode)return this.events.callbacks.onMixTagsInput.call(this,t);var s=this.input.normalize.call(this),i=s.length>=e.dropdown.enabled,a={value:s,inputElm:this.DOM.input},n=this.validateTag({value:s});"select"==e.mode&&this.toggleScopeValidation(n),a.isValid=n,this.state.inputText!=s&&(this.input.set.call(this,s,!1),-1!=s.search(e.delimiters)?this.addTags(s)&&this.input.set.call(this):e.dropdown.enabled>=0&&this.dropdown[i?"show":"hide"](s),this.trigger("input",a))},onMixTagsInput(t){var e,s,i,a,n,r,o,l,d=this.settings,h=this.value.length,u=this.getTagElms(),g=document.createDocumentFragment(),m=window.getSelection().getRangeAt(0),f=[].map.call(u,(t=>w(t).value));if("deleteContentBackward"==t.inputType&&p()&&this.events.callbacks.onKeydown.call(this,{target:t.target,key:"Backspace"}),this.value.slice().forEach((t=>{t.readonly&&!f.includes(t.value)&&g.appendChild(this.createTagElem(t))})),g.childNodes.length&&(m.insertNode(g),this.setRangeAtStartEnd(!1,g.lastChild)),u.length!=h)return this.value=[].map.call(this.getTagElms(),(t=>w(t))),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(r=window.getSelection()).rangeCount>0&&3==r.anchorNode.nodeType){if((m=r.getRangeAt(0).cloneRange()).collapse(!0),m.setStart(r.focusNode,0),i=(e=m.toString().slice(0,m.endOffset)).split(d.pattern).length-1,(s=e.match(d.pattern))&&(a=e.slice(e.lastIndexOf(s[s.length-1]))),a){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:a.match(d.pattern)[0],value:a.replace(d.pattern,"")},this.state.tag.baseOffset=r.baseOffset-this.state.tag.value.length,l=this.state.tag.value.match(d.delimiters))return this.state.tag.value=this.state.tag.value.replace(d.delimiters,""),this.state.tag.delimiters=l[0],this.addTags(this.state.tag.value,d.dropdown.clearOnSelect),void this.dropdown.hide();n=this.state.tag.value.length>=d.dropdown.enabled;try{o=(o=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&o.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(t){}(o||i<this.state.mixMode.matchedPatternCount)&&(n=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=i}setTimeout((()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",c({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[n?"show":"hide"](this.state.tag.value)}),10)},onInputIE(t){var e=this;setTimeout((function(){e.events.callbacks.onInput.call(e,t)}))},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere(t){t.target==this.DOM.scope||this.DOM.scope.contains(t.target)||(this.toggleFocusClass(!1),this.state.hasFocus=!1)},onClickScope(t){var e=this.settings,s=t.target.closest("."+e.classNames.tag),i=+new Date-this.state.hasFocus;if(t.target!=this.DOM.scope){if(!t.target.classList.contains(e.classNames.tagX))return s?(this.trigger("click",{tag:s,index:this.getNodeIndex(s),data:w(s),event:t}),void(1!==e.editTags&&1!==e.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&("mix"==e.mode&&this.fixFirefoxLastTagNoCaret(),i>500)?this.state.dropdown.visible?this.dropdown.hide():0===e.dropdown.enabled&&"mix"!=e.mode&&this.dropdown.show(this.value.length?"":void 0):"select"!=e.mode||0!==e.dropdown.enabled||this.state.dropdown.visible||this.dropdown.show());this.removeTags(t.target.parentNode)}else this.DOM.input.focus()},onPaste(t){t.preventDefault();var e,s,i=this.settings;if("select"==i.mode&&i.enforceWhitelist||!i.userInput)return!1;i.readonly||(e=t.clipboardData||window.clipboardData,s=e.getData("Text"),i.hooks.beforePaste(t,{tagify:this,pastedText:s,clipboardData:e}).then((e=>{void 0===e&&(e=s),e&&(this.injectAtCaret(e,window.getSelection().getRangeAt(0)),"mix"==this.settings.mode?this.events.callbacks.onMixTagsInput.call(this,t):this.settings.pasteAsTags?this.addTags(this.state.inputText+e,!0):this.state.inputText=e)})).catch((t=>t)))},onDrop(t){t.preventDefault()},onEditTagInput(t,e){var s=t.closest("."+this.settings.classNames.tag),i=this.getNodeIndex(s),a=w(s),n=this.input.normalize.call(this,t),r={[this.settings.tagTextProp]:n,__tagId:a.__tagId},o=this.validateTag(r);this.editTagChangeDetected(c(a,r))||!0!==t.originalIsValid||(o=!0),s.classList.toggle(this.settings.classNames.tagInvalid,!0!==o),a.__isValid=o,s.title=!0===o?a.title||a.value:o,n.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=n),this.dropdown.show(n)),this.trigger("edit:input",{tag:s,index:i,data:c({},this.value[i],{newValue:n}),event:e})},onEditTagPaste(t,e){var s=(e.clipboardData||window.clipboardData).getData("Text");e.preventDefault();var i=v(s);this.setRangeAtStartEnd(!1,i)},onEditTagFocus(t){this.state.editing={scope:t,input:t.querySelector("[contenteditable]")}},onEditTagBlur(t){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t)){var e,s,i=this.settings,a=t.closest("."+i.classNames.tag),n=w(a),r=this.input.normalize.call(this,t),o={[i.tagTextProp]:r,__tagId:n.__tagId},l=n.__originalData,d=this.editTagChangeDetected(c(n,o)),h=this.validateTag(o);if(r)if(d){if(e=this.hasMaxTags(),s=c({},l,{[i.tagTextProp]:this.trim(r),__isValid:h}),i.transformTag.call(this,s,l),!0!==(h=(!e||!0===l.__isValid)&&this.validateTag(s))){if(this.trigger("invalid",{data:s,tag:a,message:h}),i.editTags.keepInvalid)return;i.keepInvalidTags?s.__isValid=h:s=l}else i.keepInvalidTags&&(delete s.title,delete s["aria-invalid"],delete s.class);this.onEditTagDone(a,s)}else this.onEditTagDone(a,l);else this.onEditTagDone(a)}},onEditTagkeydown(t,e){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:t}),t.key){case"Esc":case"Escape":e.parentNode.replaceChild(e.__tagifyTagData.__originalHTML,e),this.state.editing=!1;case"Enter":case"Tab":t.preventDefault(),t.target.blur()}},onDoubleClickScope(t){var e,s,i=t.target.closest("."+this.settings.classNames.tag),a=w(i),n=this.settings;i&&n.userInput&&!1!==a.editable&&(e=i.classList.contains(this.settings.classNames.tagEditing),s=i.hasAttribute("readonly"),"select"==n.mode||n.readonly||e||s||!this.settings.editTags||this.editTag(i),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:i,index:this.getNodeIndex(i),data:w(i)}))},onInputDOMChange(t){t.forEach((t=>{t.addedNodes.forEach((t=>{if("<div><br></div>"==t.outerHTML)t.replaceWith(document.createElement("br"));else if(1==t.nodeType&&t.querySelector(this.settings.classNames.tagSelector)){let e=document.createTextNode("");3==t.childNodes[0].nodeType&&"BR"!=t.previousSibling.nodeName&&(e=document.createTextNode("\n")),t.replaceWith(e,...[...t.childNodes].slice(0,-1)),this.placeCaretAfterNode(e)}else if(f.call(this,t)&&(3!=t.previousSibling?.nodeType||t.previousSibling.textContent||t.previousSibling.remove(),t.previousSibling&&"BR"==t.previousSibling.nodeName)){t.previousSibling.replaceWith("\n​");let e=t.nextSibling,s="";for(;e;)s+=e.textContent,e=e.nextSibling;s.trim()&&this.placeCaretAfterNode(t.previousSibling)}})),t.removedNodes.forEach((t=>{t&&"BR"==t.nodeName&&f.call(this,e)&&(this.removeTags(e),this.fixFirefoxLastTagNoCaret())}))}));var e=this.DOM.input.lastChild;e&&""==e.nodeValue&&e.remove(),e&&"BR"==e.nodeName||this.DOM.input.appendChild(document.createElement("br"))}}};function _(t,e){if(!t){console.warn("Tagify:","input element not found",t);const e=new Proxy(this,{get:()=>()=>e});return e}if(t.__tagify)return console.warn("Tagify: ","input element is already Tagified - Same instance is returned.",t),t.__tagify;var s;c(this,function(t){var e=document.createTextNode("");function s(t,s,i){i&&s.split(/\s+/g).forEach((s=>e[t+"EventListener"].call(e,s,i)))}return{off(t,e){return s("remove",t,e),this},on(t,e){return e&&"function"==typeof e&&s("add",t,e),this},trigger(s,i,a){var n;if(a=a||{cloneData:!0},s)if(t.settings.isJQueryPlugin)"remove"==s&&(s="removeTag"),jQuery(t.DOM.originalInput).triggerHandler(s,[i]);else{try{var r="object"==typeof i?i:{value:i};if((r=a.cloneData?c({},r):r).tagify=this,i.event&&(r.event=this.cloneEvent(i.event)),i instanceof Object)for(var o in i)i[o]instanceof HTMLElement&&(r[o]=i[o]);n=new CustomEvent(s,{detail:r})}catch(t){console.warn(t)}e.dispatchEvent(n)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,e=e||{},this.getPersistedData=(s=e.id,t=>{let e,i="/"+t;if(1==localStorage.getItem(x+s+"/v",1))try{e=JSON.parse(localStorage[x+s+i])}catch(t){}return e}),this.setPersistedData=(t=>t?(localStorage.setItem(x+t+"/v",1),(e,s)=>{let i="/"+s,a=JSON.stringify(e);e&&s&&(localStorage.setItem(x+t+i,a),dispatchEvent(new Event("storage")))}):()=>{})(e.id),this.clearPersistedData=(t=>e=>{const s=x+"/"+t+"/";if(e)localStorage.removeItem(s+e);else for(let t in localStorage)t.includes(s)&&localStorage.removeItem(t)})(e.id),this.applySettings(t,e),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(t),b.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus(),t.__tagify=this}return _.prototype={_dropdown:T,getSetTagData:w,helpers:{sameStr:i,removeCollectionProp:a,omit:n,isObject:h,parseHTML:o,escapeHTML:d,extend:c,concatWithoutDups:u,getUID:m,isNodeTag:f},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(t){return this.settings.trim&&t&&"string"==typeof t?t.trim():t},parseHTML:o,templates:C,parseTemplate(t,e){return o((t=this.settings.templates[t]||t).apply(this,e))},set whitelist(t){const e=t&&Array.isArray(t);this.settings.whitelist=e?t:[],this.setPersistedData(e?t:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(t){for(let e in t){let s=e;Object.defineProperty(t,s+"Selector",{get(){return"."+this[s].split(" ")[0]}})}},applySettings(t,s){y.templates=this.templates;var i=c({},y,"mix"==s.mode?{dropdown:{position:"text"}}:{}),a=this.settings=c({},i,s);if(a.disabled=t.hasAttribute("disabled"),a.readonly=a.readonly||t.hasAttribute("readonly"),a.placeholder=d(t.getAttribute("placeholder")||a.placeholder||""),a.required=t.hasAttribute("required"),this.generateClassSelectors(a.classNames),void 0===a.dropdown.includeSelectedTags&&(a.dropdown.includeSelectedTags=a.duplicates),this.isIE&&(a.autoComplete=!1),["whitelist","blacklist"].forEach((e=>{var s=t.getAttribute("data-"+e);s&&(s=s.split(a.delimiters))instanceof Array&&(a[e]=s)})),"autoComplete"in s&&!h(s.autoComplete)&&(a.autoComplete=y.autoComplete,a.autoComplete.enabled=s.autoComplete),"mix"==a.mode&&(a.pattern=a.pattern||/@/,a.autoComplete.rightKey=!0,a.delimiters=s.delimiters||null,a.tagTextProp&&!a.dropdown.searchKeys.includes(a.tagTextProp)&&a.dropdown.searchKeys.push(a.tagTextProp)),t.pattern)try{a.pattern=new RegExp(t.pattern)}catch(t){}if(a.delimiters){a._delimiters=a.delimiters;try{a.delimiters=new RegExp(this.settings.delimiters,"g")}catch(t){}}a.disabled&&(a.userInput=!1),this.TEXTS=e(e({},S),a.texts||{}),("select"!=a.mode||s.dropdown?.enabled)&&a.userInput||(a.dropdown.enabled=0),a.dropdown.appendTarget=s.dropdown?.appendTarget||document.body;let n=this.getPersistedData("whitelist");Array.isArray(n)&&(this.whitelist=Array.isArray(a.whitelist)?u(a.whitelist,n):n)},getAttributes(t){var e,s=this.getCustomAttributes(t),i="";for(e in s)i+=" "+e+(void 0!==t[e]?`="${s[e]}"`:"");return i},getCustomAttributes(t){if(!h(t))return"";var e,s={};for(e in t)"__"!=e.slice(0,2)&&"class"!=e&&t.hasOwnProperty(e)&&void 0!==t[e]&&(s[e]=d(t[e]));return s},setStateSelection(){var t=window.getSelection(),e={anchorOffset:t.anchorOffset,anchorNode:t.anchorNode,range:t.getRangeAt&&t.rangeCount&&t.getRangeAt(0)};return this.state.selection=e,e},getCSSVars(){var t,e=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(t=>{let e=t.value;return"s"==t.unit?1e3*e:e})(function(t){if(!t)return{};var e=(t=t.trim().split(" ")[0]).split(/\d+/g).filter((t=>t)).pop().trim();return{value:+t.split(e).filter((t=>t))[0].trim(),unit:e}}((t="tag-hide-transition",e.getPropertyValue("--"+t))))}},build(t){var e=this.DOM;this.settings.mixMode.integrated?(e.originalInput=null,e.scope=t,e.input=t):(e.originalInput=t,e.originalInput_tabIndex=t.tabIndex,e.scope=this.parseTemplate("wrapper",[t,this.settings]),e.input=e.scope.querySelector(this.settings.classNames.inputSelector),t.parentNode.insertBefore(e.scope,t),t.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(t){var e,s=this.settings;if(this.state.blockChangeEvent=!0,void 0===t){const e=this.getPersistedData("value");t=e&&!this.DOM.originalInput.value?e:s.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),t)if("mix"==s.mode)this.parseMixTags(t),(e=this.DOM.input.lastChild)&&"BR"==e.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(t)instanceof Array&&(t=JSON.parse(t))}catch(t){}this.addTags(t,!0).forEach((t=>t&&t.classList.add(s.classNames.tagNoAnimation)))}else this.postUpdate();this.state.lastOriginalValueReported=s.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent(t){var e={};for(var s in t)"path"!=s&&(e[s]=t[s]);return e},loading(t){return this.state.isLoading=t,this.DOM.scope.classList[t?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(t,e){return t&&t.classList[e?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(t,e){"string"==typeof t&&this.DOM.scope.classList.toggle(t,e)},toggleScopeValidation(t){var e=!0===t||void 0===t;!this.settings.required&&t&&t===this.TEXTS.empty&&(e=!0),this.toggleClass(this.settings.classNames.tagInvalid,!e),this.DOM.scope.title=e?"":t},toggleFocusClass(t){this.toggleClass(this.settings.classNames.focus,!!t)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var t=this.DOM.originalInput,e=this.state.lastOriginalValueReported!==t.value,s=new CustomEvent("change",{bubbles:!0});e&&(this.state.lastOriginalValueReported=t.value,s.simulated=!0,t._valueTracker&&t._valueTracker.setValue(Math.random()),t.dispatchEvent(s),this.trigger("change",this.state.lastOriginalValueReported),t.value=this.state.lastOriginalValueReported)}},events:k,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(t,e){if(e){t="number"==typeof t?t:!!t,e=e.lastChild||e;var s=document.getSelection();if(s.focusNode instanceof Element&&!this.DOM.input.contains(s.focusNode))return!0;try{s.rangeCount>=1&&["Start","End"].forEach((i=>s.getRangeAt(0)["set"+i](e,t||e.length)))}catch(t){}}},placeCaretAfterNode(t){if(t&&t.parentNode){var e=t,s=window.getSelection(),i=s.getRangeAt(0);s.rangeCount&&(i.setStartAfter(e),i.collapse(!0),s.removeAllRanges(),s.addRange(i))}},insertAfterTag(t,e){if(e=e||this.settings.mixMode.insertAfterTag,t&&t.parentNode&&e)return e="string"==typeof e?document.createTextNode(e):e,t.parentNode.insertBefore(e,t.nextSibling),e},editTagChangeDetected(t){var e=t.__originalData;for(var s in e)if(!this.dataProps.includes(s)&&t[s]!=e[s])return!0;return!1},getTagTextNode(t){return t.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(t,e){this.getTagTextNode(t).innerHTML=d(e)},editTag(t,e){t=t||this.getLastTag(),e=e||{},this.dropdown.hide();var s=this.settings,i=this.getTagTextNode(t),a=this.getNodeIndex(t),n=w(t),r=this.events.callbacks,o=this,l=!0;if(i){if(!(n instanceof Object&&"editable"in n)||n.editable)return n=w(t,{__originalData:c({},n),__originalHTML:t.cloneNode(!0)}),w(n.__originalHTML,n.__originalData),i.setAttribute("contenteditable",!0),t.classList.add(s.classNames.tagEditing),i.addEventListener("focus",r.onEditTagFocus.bind(this,t)),i.addEventListener("blur",(function(){setTimeout((()=>r.onEditTagBlur.call(o,o.getTagTextNode(t))))})),i.addEventListener("input",r.onEditTagInput.bind(this,i)),i.addEventListener("paste",r.onEditTagPaste.bind(this,i)),i.addEventListener("keydown",(e=>r.onEditTagkeydown.call(this,e,t))),i.addEventListener("compositionstart",r.onCompositionStart.bind(this)),i.addEventListener("compositionend",r.onCompositionEnd.bind(this)),e.skipValidation||(l=this.editTagToggleValidity(t)),i.originalIsValid=l,this.trigger("edit:start",{tag:t,index:a,data:n,isValid:l}),i.focus(),this.setRangeAtStartEnd(!1,i),this}else console.warn("Cannot find element in Tag template: .",s.classNames.tagTextSelector)},editTagToggleValidity(t,e){var s;if(e=e||w(t))return(s=!("__isValid"in e)||!0===e.__isValid)||this.removeTagsFromValue(t),this.update(),t.classList.toggle(this.settings.classNames.tagNotAllowed,!s),e.__isValid;console.warn("tag has no data: ",t,e)},onEditTagDone(t,e){e=e||{};var s={tag:t=t||this.state.editing.scope,index:this.getNodeIndex(t),previousData:w(t),data:e};this.trigger("edit:beforeUpdate",s,{cloneData:!1}),this.state.editing=!1,delete e.__originalData,delete e.__originalHTML,t&&e[this.settings.tagTextProp]?(t=this.replaceTag(t,e),this.editTagToggleValidity(t,e),this.settings.a11y.focusableTags?t.focus():this.placeCaretAfterNode(t)):t&&this.removeTags(t),this.trigger("edit:updated",s),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(t,e){e&&e.value||(e=t.__tagifyTagData),e.__isValid&&1!=e.__isValid&&c(e,this.getInvalidTagAttrs(e,e.__isValid));var s=this.createTagElem(e);return t.parentNode.replaceChild(s,t),this.updateValueByDOMTags(),s},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),(t=>{t.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(w(t))})),this.update()},injectAtCaret(t,e){return!(e=e||this.state.selection?.range)&&t?(this.appendMixTags(t),this):(v(t,e),this.setRangeAtStartEnd(!1,t),this.updateValueByDOMTags(),this.update(),this)},input:{set(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var s=this.settings.dropdown.closeOnSelect;this.state.inputText=t,e&&(this.DOM.input.innerHTML=d(""+t)),!t&&s&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var t=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!t),t},normalize(t){var e=t||this.DOM.input,s=[];e.childNodes.forEach((t=>3==t.nodeType&&s.push(t.nodeValue))),s=s.join("\n");try{s=s.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(t){}return s=s.replace(/\s/g," "),this.trim(s)},autocomplete:{suggest(t){if(this.settings.autoComplete.enabled){"string"==typeof(t=t||{value:""})&&(t={value:t});var e=this.dropdown.getMappedValue(t);if("number"!=typeof e){var s=e.substr(0,this.state.inputText.length).toLowerCase(),i=e.substring(this.state.inputText.length);e&&this.state.inputText&&s==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",i),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set(t){var e=this.DOM.input.getAttribute("data-suggest"),s=t||(e?this.state.inputText+e:null);return!!s&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+s)):(this.input.set.call(this,s),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(t){return this.value.findIndex((e=>e.__tagId==(t||{}).__tagId))},getNodeIndex(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];var i="."+[...this.settings.classNames.tag.split(" "),...e].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(i))},getLastTag(){var t=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return t[t.length-1]},isTagDuplicate(t,e,s){var a=0;if("select"==this.settings.mode)return!1;for(let n of this.value)i(this.trim(""+t),n.value,e)&&s!=n.__tagId&&a++;return a},getTagIndexByValue(t){var e=[];return this.getTagElms().forEach(((s,a)=>{i(this.trim(s.textContent),t,this.settings.dropdown.caseSensitive)&&e.push(a)})),e},getTagElmByValue(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag(t){t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout((()=>{t.classList.remove(this.settings.classNames.tagFlash)}),100))},isTagBlacklisted(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter((e=>(""+e).toLowerCase()==t)).length},isTagWhitelisted(t){return!!this.getWhitelistItem(t)},getWhitelistItem(t,e,s){e=e||"value";var a,n=this.settings;return(s=s||n.whitelist).some((s=>{var r="string"==typeof s?s:s[e]||s.value;if(i(r,t,n.dropdown.caseSensitive,n.trim))return a="string"==typeof s?{value:s}:s,!0})),a||"value"!=e||"value"==n.tagTextProp||(a=this.getWhitelistItem(t,n.tagTextProp,s)),a},validateTag(t){var e=this.settings,s="value"in t?"value":e.tagTextProp,i=this.trim(t[s]+"");return(t[s]+"").trim()?e.pattern&&e.pattern instanceof RegExp&&!e.pattern.test(i)?this.TEXTS.pattern:!e.duplicates&&this.isTagDuplicate(i,e.dropdown.caseSensitive,t.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(i)||e.enforceWhitelist&&!this.isTagWhitelisted(i)?this.TEXTS.notAllowed:!e.validate||e.validate(t):this.TEXTS.empty},getInvalidTagAttrs(t,e){return{"aria-invalid":!0,class:`${t.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:e}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(t,e){var s=this.settings;document.activeElement.blur(),s[e||"readonly"]=t,this.DOM.scope[(t?"set":"remove")+"Attribute"](e||"readonly",!0),this.setContentEditable(!t)},setContentEditable(t){this.settings.userInput&&(this.DOM.input.contentEditable=t,this.DOM.input.tabIndex=t?0:-1)},setDisabled(t){this.setReadonly(t,"disabled")},normalizeTags(t){var e=this.settings,s=e.whitelist,i=e.delimiters,a=e.mode,n=e.tagTextProp,r=[],o=!!s&&s[0]instanceof Object,l=Array.isArray(t),d=l&&t[0].value,h=t=>(t+"").split(i).filter((t=>t)).map((t=>({[n]:this.trim(t),value:this.trim(t)})));if("number"==typeof t&&(t=t.toString()),"string"==typeof t){if(!t.trim())return[];t=h(t)}else l&&(t=[].concat(...t.map((t=>null!=t.value?t:h(t)))));return o&&!d&&(t.forEach((t=>{var e=r.map((t=>t.value)),s=this.dropdown.filterListItems.call(this,t[n],{exact:!0});this.settings.duplicates||(s=s.filter((t=>!e.includes(t.value))));var i=s.length>1?this.getWhitelistItem(t[n],n,s):s[0];i&&i instanceof Object?r.push(i):"mix"!=a&&(null==t.value&&(t.value=t[n]),r.push(t))})),r.length&&(t=r)),t},parseMixTags(t){var e=this.settings,s=e.mixTagsInterpolator,i=e.duplicates,a=e.transformTag,n=e.enforceWhitelist,r=e.maxTags,o=e.tagTextProp,l=[];return t=t.split(s[0]).map(((t,e)=>{var d,h,c,u=t.split(s[1]),g=u[0],p=l.length==r;try{if(g==+g)throw Error;h=JSON.parse(g)}catch(t){h=this.normalizeTags(g)[0]||{value:g}}if(a.call(this,h),p||!(u.length>1)||n&&!this.isTagWhitelisted(h.value)||!i&&this.isTagDuplicate(h.value)){if(t)return e?s[0]+t:t}else h[d=h[o]?o:"value"]=this.trim(h[d]),c=this.createTagElem(h),l.push(h),c.classList.add(this.settings.classNames.tagNoAnimation),u[0]=c.outerHTML,this.value.push(h);return u.join("")})).join(""),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach(((t,e)=>w(t,l[e]))),this.update({withoutChangeEvent:!0}),t},replaceTextWithNode(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var s,i,a=this.state.selection||window.getSelection(),n=a.anchorNode,r=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return n.splitText(a.anchorOffset-r),-1==(s=n.nodeValue.lastIndexOf(e))||(i=n.splitText(s),t&&n.parentNode.replaceChild(t,i)),!0}},selectTag(t,e){var s=this.settings;if(!s.enforceWhitelist||this.isTagWhitelisted(e.value)){this.input.set.call(this,e[s.tagTextProp]||e.value,!0),this.state.actions.selectOption&&setTimeout((()=>this.setRangeAtStartEnd(!1,this.DOM.input)));var i=this.getLastTag();return i?this.replaceTag(i,e):this.appendTag(t),this.value[0]=e,this.update(),this.trigger("add",{tag:t,data:e}),[t]}},addEmptyTag(t){var e=c({value:""},t||{}),s=this.createTagElem(e);w(s,e),this.appendTag(s),this.editTag(s,{skipValidation:!0})},addTags(t,e,s){var i=[],a=this.settings,n=[],r=document.createDocumentFragment();if(s=s||a.skipInvalid,!t||0==t.length)return i;switch(t=this.normalizeTags(t),a.mode){case"mix":return this.addMixTags(t);case"select":e=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),t.forEach((t=>{var e,o={},l=Object.assign({},t,{value:t.value+""});if(t=Object.assign({},l),a.transformTag.call(this,t),t.__isValid=this.hasMaxTags()||this.validateTag(t),!0!==t.__isValid){if(s)return;if(c(o,this.getInvalidTagAttrs(t,t.__isValid),{__preInvalidData:l}),t.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(t.value)),!a.createInvalidTags)return void n.push(t.value)}if("readonly"in t&&(t.readonly?o["aria-readonly"]=!0:delete t.readonly),e=this.createTagElem(t,o),i.push(e),"select"==a.mode)return this.selectTag(e,t);r.appendChild(e),t.__isValid&&!0===t.__isValid?(this.value.push(t),this.trigger("add",{tag:e,index:this.value.length-1,data:t})):(this.trigger("invalid",{data:t,index:this.value.length,tag:e,message:t.__isValid}),a.keepInvalidTags||setTimeout((()=>this.removeTags(e,!0)),1e3)),this.dropdown.position()})),this.appendTag(r),this.update(),t.length&&e&&(this.input.set.call(this,a.createInvalidTags?"":n.join(a._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),a.dropdown.enabled&&this.dropdown.refilter(),i},addMixTags(t){if((t=this.normalizeTags(t))[0].prefix||this.state.tag)return this.prefixedTextToTag(t[0]);var e=document.createDocumentFragment();return t.forEach((t=>{var s=this.createTagElem(t);e.appendChild(s)})),this.appendMixTags(e),e},appendMixTags(t){var e=!!this.state.selection;e?this.injectAtCaret(t):(this.DOM.input.focus(),(e=this.setStateSelection()).range.setStart(this.DOM.input,e.range.endOffset),e.range.setEnd(this.DOM.input,e.range.endOffset),this.DOM.input.appendChild(t),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(t){var e,s=this.settings,i=this.state.tag.delimiters;if(s.transformTag.call(this,t),t.prefix=t.prefix||this.state.tag?this.state.tag.prefix:(s.pattern.source||s.pattern)[0],e=this.createTagElem(t),this.replaceTextWithNode(e)||this.DOM.input.appendChild(e),setTimeout((()=>e.classList.add(this.settings.classNames.tagNoAnimation)),300),this.value.push(t),this.update(),!i){var a=this.insertAfterTag(e)||e;setTimeout(this.placeCaretAfterNode,0,a)}return this.state.tag=null,this.trigger("add",c({},{tag:e},{data:t})),e},appendTag(t){var e=this.DOM,s=e.input;e.scope.insertBefore(t,s)},createTagElem(t,s){t.__tagId=m();var i,a=c({},t,e({value:d(t.value+"")},s));return function(t){for(var e,s=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);e=s.nextNode();)e.textContent.trim()||e.parentNode.removeChild(e)}(i=this.parseTemplate("tag",[a,this])),w(i,t),i},reCheckInvalidTags(){var t=this.settings;this.getTagElms(t.classNames.tagNotAllowed).forEach(((e,s)=>{var i=w(e),a=this.hasMaxTags(),n=this.validateTag(i),r=!0===n&&!a;if("select"==t.mode&&this.toggleScopeValidation(n),r)return i=i.__preInvalidData?i.__preInvalidData:{value:i.value},this.replaceTag(e,i);e.title=a||n}))},removeTags(t,e,s){var i,a=this.settings;if(t=t&&t instanceof HTMLElement?[t]:t instanceof Array?t:t?[t]:[this.getLastTag()],i=t.reduce(((t,e)=>{e&&"string"==typeof e&&(e=this.getTagElmByValue(e));var s=w(e);return e&&s&&!s.readonly&&t.push({node:e,idx:this.getTagIdx(s),data:w(e,{__removed:!0})}),t}),[]),s="number"==typeof s?s:this.CSSVars.tagHideTransition,"select"==a.mode&&(s=0,this.input.set.call(this)),1==i.length&&"select"!=a.mode&&i[0].node.classList.contains(a.classNames.tagNotAllowed)&&(e=!0),i.length)return a.hooks.beforeRemoveTag(i,{tagify:this}).then((()=>{function t(t){t.node.parentNode&&(t.node.parentNode.removeChild(t.node),e?a.keepInvalidTags&&this.trigger("remove",{tag:t.node,index:t.idx}):(this.trigger("remove",{tag:t.node,index:t.idx,data:t.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),a.keepInvalidTags&&this.reCheckInvalidTags()))}s&&s>10&&1==i.length?function(e){e.node.style.width=parseFloat(window.getComputedStyle(e.node).width)+"px",document.body.clientTop,e.node.classList.add(a.classNames.tagHide),setTimeout(t.bind(this),s,e)}.call(this,i[0]):i.forEach(t.bind(this)),e||(this.removeTagsFromValue(i.map((t=>t.node))),this.update(),"select"==a.mode&&this.setContentEditable(!0))})).catch((t=>{}))},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach((t=>t.parentNode.removeChild(t)))},removeTagsFromValue(t){(t=Array.isArray(t)?t:[t]).forEach((t=>{var e=w(t),s=this.getTagIdx(e);s>-1&&this.value.splice(s,1)}))},removeAllTags(t){t=t||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout((()=>{this.DOM.input.focus()})),"select"==this.settings.mode&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(t)},postUpdate(){this.state.blockChangeEvent=!1;var t=this.settings,e=t.classNames,s="mix"==t.mode?t.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(e.hasMaxTags,this.value.length>=t.maxTags),this.toggleClass(e.hasNoTags,!this.value.length),this.toggleClass(e.empty,!s),"select"==t.mode&&this.toggleScopeValidation(this.value?.[0]?.__isValid)},setOriginalInputValue(t){var e=this.DOM.originalInput;this.settings.mixMode.integrated||(e.value=t,e.tagifyValue=e.value,this.setPersistedData(t,"value"))},update(t){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout(function(){var e=this.getInputValue();this.setOriginalInputValue(e),this.settings.onChangeAfterBlur&&(t||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}.bind(this),100)},getInputValue(){var t=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(t):t.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(t):JSON.stringify(t):""},getCleanValue(t){return a(t||this.value,this.dataProps)},getMixedTagsAsString(){var t="",e=this,s=this.settings,i=s.originalInputValueFormat||JSON.stringify,a=s.mixTagsInterpolator;return function s(r){r.childNodes.forEach((r=>{if(1==r.nodeType){const o=w(r);if("BR"==r.tagName&&(t+="\r\n"),o&&f.call(e,r)){if(o.__removed)return;t+=a[0]+i(n(o,e.dataProps))+a[1]}else r.getAttribute("style")||["B","I","U"].includes(r.tagName)?t+=r.textContent:"DIV"!=r.tagName&&"P"!=r.tagName||(t+="\r\n",s(r))}else t+=r.textContent}))}(this.DOM.input),t}},_.prototype.removeTag=_.prototype.removeTags,_}))},4501:function(t,e,s){"use strict";s.d(e,{Z:function(){return y}});var i=s(3396),a=s(7139),n=s(9242),r=(t,e)=>{const s=t.__vccOpts||t;for(const[i,a]of e)s[i]=a;return s};const o={data(){return{innerValue:1}},props:{modelValue:{type:Number},pageCount:{type:Number,required:!0},initialPage:{type:Number,default:1},forcePage:{type:Number},clickHandler:{type:Function,default:()=>{}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String,default:"pagination"},pageClass:{type:String,default:"page-item"},pageLinkClass:{type:String,default:"page-link"},prevClass:{type:String,default:"page-item"},prevLinkClass:{type:String,default:"page-link"},nextClass:{type:String,default:"page-item"},nextLinkClass:{type:String,default:"page-link"},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},computed:{selected:{get:function(){return this.modelValue||this.innerValue},set:function(t){this.innerValue=t}},pages:function(){let t={};if(this.pageCount<=this.pageRange)for(let e=0;e<this.pageCount;e++){let s={index:e,content:e+1,selected:e===this.selected-1};t[e]=s}else{const e=Math.floor(this.pageRange/2);let s=e=>{let s={index:e,content:e+1,selected:e===this.selected-1};t[e]=s},i=e=>{let s={disabled:!0,breakView:!0};t[e]=s};for(let t=0;t<this.marginPages;t++)s(t);let a=0;this.selected-e>0&&(a=this.selected-1-e);let n=a+this.pageRange-1;n>=this.pageCount&&(n=this.pageCount-1,a=n-this.pageRange+1);for(let t=a;t<=n&&t<=this.pageCount-1;t++)s(t);a>this.marginPages&&i(a-1),n+1<this.pageCount-this.marginPages&&i(n+1);for(let t=this.pageCount-1;t>=this.pageCount-this.marginPages;t--)s(t)}return t}},methods:{handlePageSelected(t){this.selected!==t&&(this.innerValue=t,this.$emit("update:modelValue",t),this.clickHandler(t))},prevPage(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected(){return 1===this.selected},lastPageSelected(){return this.selected===this.pageCount||0===this.pageCount},selectFirstPage(){this.selected<=1||this.handlePageSelected(1)},selectLastPage(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}},beforeMount(){this.innerValue=this.initialPage},beforeUpdate(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)}},l=["tabindex","innerHTML"],d=["tabindex","innerHTML"],h=["onClick","onKeyup"],c=["tabindex","innerHTML"],u=["tabindex","innerHTML"],g=["innerHTML"],p=["innerHTML"],m=["onClick","onKeyup"],f=["innerHTML"],v=["innerHTML"];function w(t,e,s,r,o,w){return s.noLiSurround?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,a.C_)(s.containerClass)},[s.firstLastButton?((0,i.wg)(),(0,i.iD)("a",{key:0,onClick:e[8]||(e[8]=t=>w.selectFirstPage()),onKeyup:e[9]||(e[9]=(0,n.D2)((t=>w.selectFirstPage()),["enter"])),class:(0,a.C_)([s.pageLinkClass,w.firstPageSelected()?s.disabledClass:""]),tabindex:"0",innerHTML:s.firstButtonText},null,42,g)):(0,i.kq)("",!0),w.firstPageSelected()&&s.hidePrevNext?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("a",{key:1,onClick:e[10]||(e[10]=t=>w.prevPage()),onKeyup:e[11]||(e[11]=(0,n.D2)((t=>w.prevPage()),["enter"])),class:(0,a.C_)([s.prevLinkClass,w.firstPageSelected()?s.disabledClass:""]),tabindex:"0",innerHTML:s.prevText},null,42,p)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(w.pages,(e=>((0,i.wg)(),(0,i.iD)(i.HY,null,[e.breakView?((0,i.wg)(),(0,i.iD)("a",{key:e.index,class:(0,a.C_)([s.pageLinkClass,s.breakViewLinkClass,e.disabled?s.disabledClass:""]),tabindex:"0"},[(0,i.WI)(t.$slots,"breakViewContent",{},(()=>[(0,i.Uk)((0,a.zw)(s.breakViewText),1)]))],2)):e.disabled?((0,i.wg)(),(0,i.iD)("a",{key:e.index,class:(0,a.C_)([s.pageLinkClass,e.selected?s.activeClass:"",s.disabledClass]),tabindex:"0"},(0,a.zw)(e.content),3)):((0,i.wg)(),(0,i.iD)("a",{key:e.index,onClick:t=>w.handlePageSelected(e.index+1),onKeyup:(0,n.D2)((t=>w.handlePageSelected(e.index+1)),["enter"]),class:(0,a.C_)([s.pageLinkClass,e.selected?s.activeClass:""]),tabindex:"0"},(0,a.zw)(e.content),43,m))],64)))),256)),w.lastPageSelected()&&s.hidePrevNext?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("a",{key:2,onClick:e[12]||(e[12]=t=>w.nextPage()),onKeyup:e[13]||(e[13]=(0,n.D2)((t=>w.nextPage()),["enter"])),class:(0,a.C_)([s.nextLinkClass,w.lastPageSelected()?s.disabledClass:""]),tabindex:"0",innerHTML:s.nextText},null,42,f)),s.firstLastButton?((0,i.wg)(),(0,i.iD)("a",{key:3,onClick:e[14]||(e[14]=t=>w.selectLastPage()),onKeyup:e[15]||(e[15]=(0,n.D2)((t=>w.selectLastPage()),["enter"])),class:(0,a.C_)([s.pageLinkClass,w.lastPageSelected()?s.disabledClass:""]),tabindex:"0",innerHTML:s.lastButtonText},null,42,v)):(0,i.kq)("",!0)],2)):((0,i.wg)(),(0,i.iD)("ul",{key:0,class:(0,a.C_)(s.containerClass)},[s.firstLastButton?((0,i.wg)(),(0,i.iD)("li",{key:0,class:(0,a.C_)([s.pageClass,w.firstPageSelected()?s.disabledClass:""])},[(0,i._)("a",{onClick:e[0]||(e[0]=t=>w.selectFirstPage()),onKeyup:e[1]||(e[1]=(0,n.D2)((t=>w.selectFirstPage()),["enter"])),class:(0,a.C_)(s.pageLinkClass),tabindex:w.firstPageSelected()?-1:0,innerHTML:s.firstButtonText},null,42,l)],2)):(0,i.kq)("",!0),w.firstPageSelected()&&s.hidePrevNext?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("li",{key:1,class:(0,a.C_)([s.prevClass,w.firstPageSelected()?s.disabledClass:""])},[(0,i._)("a",{onClick:e[2]||(e[2]=t=>w.prevPage()),onKeyup:e[3]||(e[3]=(0,n.D2)((t=>w.prevPage()),["enter"])),class:(0,a.C_)(s.prevLinkClass),tabindex:w.firstPageSelected()?-1:0,innerHTML:s.prevText},null,42,d)],2)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(w.pages,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.index,class:(0,a.C_)([s.pageClass,e.selected?s.activeClass:"",e.disabled?s.disabledClass:"",e.breakView?s.breakViewClass:""])},[e.breakView?((0,i.wg)(),(0,i.iD)("a",{key:0,class:(0,a.C_)([s.pageLinkClass,s.breakViewLinkClass]),tabindex:"0"},[(0,i.WI)(t.$slots,"breakViewContent",{},(()=>[(0,i.Uk)((0,a.zw)(s.breakViewText),1)]))],2)):e.disabled?((0,i.wg)(),(0,i.iD)("a",{key:1,class:(0,a.C_)(s.pageLinkClass),tabindex:"0"},(0,a.zw)(e.content),3)):((0,i.wg)(),(0,i.iD)("a",{key:2,onClick:t=>w.handlePageSelected(e.index+1),onKeyup:(0,n.D2)((t=>w.handlePageSelected(e.index+1)),["enter"]),class:(0,a.C_)(s.pageLinkClass),tabindex:"0"},(0,a.zw)(e.content),43,h))],2)))),128)),w.lastPageSelected()&&s.hidePrevNext?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("li",{key:2,class:(0,a.C_)([s.nextClass,w.lastPageSelected()?s.disabledClass:""])},[(0,i._)("a",{onClick:e[4]||(e[4]=t=>w.nextPage()),onKeyup:e[5]||(e[5]=(0,n.D2)((t=>w.nextPage()),["enter"])),class:(0,a.C_)(s.nextLinkClass),tabindex:w.lastPageSelected()?-1:0,innerHTML:s.nextText},null,42,c)],2)),s.firstLastButton?((0,i.wg)(),(0,i.iD)("li",{key:3,class:(0,a.C_)([s.pageClass,w.lastPageSelected()?s.disabledClass:""])},[(0,i._)("a",{onClick:e[6]||(e[6]=t=>w.selectLastPage()),onKeyup:e[7]||(e[7]=(0,n.D2)((t=>w.selectLastPage()),["enter"])),class:(0,a.C_)(s.pageLinkClass),tabindex:w.lastPageSelected()?-1:0,innerHTML:s.lastButtonText},null,42,u)],2)):(0,i.kq)("",!0)],2))}var y=r(o,[["render",w]])},7882:function(t,e,s){"use strict";var i=s(4161),a=s(2479);const n="http://localhost/api/v1/documents/";class r{getDocument(t){return i.Z.get(n+`${t}`,{headers:(0,a.Z)()})}getDocuments(t,e,s,r,o,l,d,h,c){let u=JSON.stringify({typeSearch:t,parameter:e,currentPage:s,sortField:r,sortDir:o,statusName:l,minDate:d,maxDate:h,documentType:c}),g={method:"post",maxBodyLength:1/0,url:n+"all",headers:(0,a.Z)(),data:u};return i.Z.request(g)}getDocumentStructures(){return i.Z.get(n+"structures/short",{headers:(0,a.Z)()})}getDocumentStructure(t){return i.Z.get(n+`structures/${t}`,{headers:(0,a.Z)()})}createDocument(t,e,s,r){let o=JSON.stringify({documentData:JSON.stringify(r),documentStatusId:Number(s),documentStructureId:Number(e),username:t}),l={method:"post",maxBodyLength:1/0,url:n+"create",headers:(0,a.Z)(),data:o};return i.Z.request(l)}deleteDocument(t){return i.Z["delete"](n+"delete/"+t,{headers:(0,a.Z)()})}updateDocumentStatus(t,e){let s=JSON.stringify({documentStatusId:JSON.stringify(e)}),r={method:"post",maxBodyLength:1/0,url:n+`${t}/status/update`,headers:(0,a.Z)(),data:s};return i.Z.request(r)}updateDocumentData(t,e){let s=JSON.stringify({documentData:JSON.stringify(e)}),r={method:"post",maxBodyLength:1/0,url:n+`${t}/data/update`,headers:(0,a.Z)(),data:s};return i.Z.request(r)}getUserStatistics(t,e,s){let r=JSON.stringify({minDate:e,maxDate:s}),o={method:"post",maxBodyLength:1/0,url:n+`statistic/user/${t}`,headers:(0,a.Z)(),data:r};return i.Z.request(o)}getDepartmentStatistics(t,e,s){let r=JSON.stringify({minDate:e,maxDate:s}),o={method:"post",maxBodyLength:1/0,url:n+`statistic/department/${t}`,headers:(0,a.Z)(),data:r};return i.Z.request(o)}getFacultayStatistics(t,e,s){let r=JSON.stringify({minDate:e,maxDate:s}),o={method:"post",maxBodyLength:1/0,url:n+`statistic/faculty/${t}`,headers:(0,a.Z)(),data:r};return i.Z.request(o)}getAllStatistics(t,e){let s=JSON.stringify({minDate:t,maxDate:e}),r={method:"post",maxBodyLength:1/0,url:n+"statistic/all",headers:(0,a.Z)(),data:s};return i.Z.request(r)}getAllDocumentTypes(){return i.Z.get(n+"types/all",{headers:(0,a.Z)()})}checkDocumentTypeName(t){let e=JSON.stringify({name:t}),s={method:"post",maxBodyLength:1/0,url:n+"types/check",headers:(0,a.Z)(),data:e};return i.Z.request(s)}createDocumentType(t){let e=JSON.stringify({name:t}),s={method:"post",maxBodyLength:1/0,url:n+"types/create",headers:(0,a.Z)(),data:e};return i.Z.request(s)}getAdminDocumentStructures(t,e,s,r,o,l,d,h){let c=JSON.stringify({parameter:t,currentPage:e,sortField:s,sortDir:r,isActive:o,minDate:l,maxDate:d,documentTypeName:h}),u={method:"post",maxBodyLength:1/0,url:n+"structures/short/admin",headers:(0,a.Z)(),data:c};return i.Z.request(u)}createDocumentStructure(t,e,s,r,o){let l=JSON.stringify({id:t,name:e,description:s,documentTypeId:r,structureData:JSON.stringify(o)}),d={method:"post",maxBodyLength:1/0,url:n+"structures/create",headers:(0,a.Z)(),data:l};return i.Z.request(d)}updateDocumentStructure(t,e,s,r,o){let l=JSON.stringify({id:t,name:e,description:s,documentTypeId:r,structureData:JSON.stringify(o)}),d={method:"post",maxBodyLength:1/0,url:n+"structures/update",headers:(0,a.Z)(),data:l};return i.Z.request(d)}updateStatusDocumentStructure(t,e){let s=JSON.stringify({id:t,isActive:Boolean(e)}),r={method:"post",maxBodyLength:1/0,url:n+"structures/status/update",headers:(0,a.Z)(),data:s};return i.Z.request(r)}checkDocumentStructure(t){return i.Z.get(n+`structures/${t}/check`,{headers:(0,a.Z)()})}updateStatusDocumentsByStructureId(t){let e=JSON.stringify({id:t}),s={method:"post",maxBodyLength:1/0,url:n+"status/update/remake",headers:(0,a.Z)(),data:e};return i.Z.request(s)}getNewDocumentStructures(t){let e=JSON.stringify({oldDocumentStructureId:t}),s={method:"post",maxBodyLength:1/0,url:n+"structures/new/all",headers:(0,a.Z)(),data:e};return i.Z.request(s)}getAllFacultyDocuments(t,e,s,r){let o=JSON.stringify({documentStructureId:t,facultyId:e,minDate:s,maxDate:r}),l={method:"post",maxBodyLength:1/0,url:n+"faculty/all",headers:(0,a.Z)(),data:o};return i.Z.request(l)}getAllDepartmentDocuments(t,e,s,r){let o=JSON.stringify({documentStructureId:t,departmentId:e,minDate:s,maxDate:r}),l={method:"post",maxBodyLength:1/0,url:n+"department/all",headers:(0,a.Z)(),data:o};return i.Z.request(l)}archivingDocuments(t,e,s,r){let o=JSON.stringify({documentStructureId:t,documentStatusId:e,minDate:s,maxDate:r}),l={method:"post",maxBodyLength:1/0,url:n+"archiving",headers:(0,a.Z)(),data:o};return i.Z.request(l)}documentExportToExcel(t,e,s,r,o){let l=JSON.stringify({documentStructures:t,facultyId:e,departmentId:s,minDate:r,maxDate:o}),d={method:"post",maxBodyLength:1/0,url:n+"export",headers:(0,a.Z)(),responseType:"blob",data:l};return i.Z.request(d)}documentCombinedExportToExcel(t,e,s,r,o){let l=JSON.stringify({documentStructures:t,facultyList:e,departmentList:s,minDate:r,maxDate:o}),d={method:"post",maxBodyLength:1/0,url:n+"combined/export",headers:(0,a.Z)(),responseType:"blob",data:l};return i.Z.request(d)}updateDocumentType(t,e){let s=JSON.stringify({documentTypeName:e}),r={method:"post",maxBodyLength:1/0,url:n+"types/update/"+t,headers:(0,a.Z)(),data:s};return i.Z.request(r)}}e["Z"]=new r},8573:function(t,e,s){"use strict";var i=s(4161),a=s(2479);const n="http://localhost/api/v1/keywords/";class r{getKeyWords(){return i.Z.get(n+"all",{headers:(0,a.Z)()})}attachKeyWord(t,e){let s=JSON.stringify({keyWords:e}),r={method:"post",maxBodyLength:1/0,url:n+"add/"+t,headers:(0,a.Z)(),data:s};return i.Z.request(r)}getDocumentKeyWords(t){return i.Z.get(n+"document/"+t,{headers:(0,a.Z)()})}updateKeyWord(t,e){let s=JSON.stringify({keyWordName:e}),r={method:"post",maxBodyLength:1/0,url:n+"update/"+t,headers:(0,a.Z)(),data:s};return i.Z.request(r)}deleteKeyWord(t){return i.Z["delete"](n+"delete/"+t,{headers:(0,a.Z)()})}}e["Z"]=new r},8310:function(t,e,s){"use strict";s.d(e,{Z:function(){return _}});var i=s(3396),a=s(7139);const n={class:"input-field col s12 selectSingle w-full"},r=["multiple","disabled"],o=["selected"],l=["value","selected"],d=["multiple","disabled"],h=["selected"],c=["value","selected"],u=["multiple","disabled"],g=["selected"],p=["value","selected"],m=["multiple","disabled"],f=["selected"],v=["value","selected"],w={class:"opacity-0"},y=["multiple","disabled"],b=["selected"],T=["value","selected"],x={class:"opacity-0"};function D(t,e,s,D,S,C){return(0,i.wg)(),(0,i.iD)("div",n,["filter"===this.type?((0,i.wg)(),(0,i.iD)("select",{key:0,multiple:this.multy,disabled:this.disabled},[(0,i._)("option",{value:"",selected:this.selected},(0,a.zw)(s.message),9,o),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.content,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t,selected:t===this.equalId},(0,a.zw)(t),9,l)))),128))],8,r)):Array.isArray(this.equalId)||0===this.content.length||"object"===typeof this.content[0]?Array.isArray(this.equalId)&&0!==this.content.length&&"object"!==typeof this.content[0]?((0,i.wg)(),(0,i.iD)("select",{key:2,multiple:this.multy,disabled:this.disabled},[(0,i._)("option",{value:"",disabled:"",selected:this.selected},(0,a.zw)(s.message),9,g),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.content,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t,selected:this.isSelect(this.equalId,t)},(0,a.zw)(t),9,p)))),128))],8,u)):Array.isArray(this.equalId)?((0,i.wg)(),(0,i.iD)("select",{key:4,multiple:this.multy,disabled:this.disabled},[(0,i._)("option",{value:"",disabled:"",selected:this.selected},(0,a.zw)(s.message),9,b),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.content,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.id,value:t.id,selected:this.isSelect(this.equalId,t.id)},[(0,i.Uk)((0,a.zw)(t.name)+" ",1),(0,i._)("span",x,"("+(0,a.zw)(t.id)+")",1)],8,T)))),128))],8,y)):((0,i.wg)(),(0,i.iD)("select",{key:3,multiple:this.multy,disabled:this.disabled},[(0,i._)("option",{value:"",disabled:"",selected:this.selected},(0,a.zw)(s.message),9,f),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.content,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.id,value:t.id,selected:t.id===this.equalId},[(0,i.Uk)((0,a.zw)(t.name)+" ",1),(0,i._)("span",w,"("+(0,a.zw)(t.id)+")",1)],8,v)))),128))],8,m)):((0,i.wg)(),(0,i.iD)("select",{key:1,multiple:this.multy,disabled:this.disabled},[(0,i._)("option",{value:"",disabled:"",selected:this.selected},(0,a.zw)(s.message),9,h),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(this.content,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t,selected:t===this.equalId},(0,a.zw)(t),9,c)))),128))],8,d))])}s(7658);var S={name:"selectComponent",props:["selected","message","content","multy","disabled","equalId","type"],data:()=>({select:null}),mounted(){setTimeout((()=>{this.select=M.FormSelect.init(document.querySelectorAll("select"),{})}),0)},methods:{isSelect(t,e){let s=[];for(let i of t)s.push(Number(i));return s.includes(e)}},computed:{currentUser(){return this.$store.state.auth.user}},beforeDestroy(){this.select&&this.select.destroy&&this.select.destroy()}},C=s(89);const k=(0,C.Z)(S,[["render",D]]);var _=k},6620:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return wt}});var i=s(3396),a=s(9242),n=s(7139);const r=(0,i._)("div",{class:"chapter-name text-3xl mb-6"}," Документы ",-1),o={class:"flex gap-x-5 flex-grow"},l={class:"menu w-1/5"},d={class:"w-4/5 flex flex-col mb-5"},h={class:"search flex gap-x-5 mb-6 items-start"},c={action:"",method:"get",class:"search-text shadow-md rounded-xl flex items-stretch w-10/12 border"},u={class:"w-full relative input-field"},g=(0,i._)("input",{placeholder:"Введите ключевые слова для поиска",class:"autocomplete w-full rounded-l-xl py-[1.7px] pl-1 pr-9 block flex-grow shrink focus:outline-none focus:ring-2 focus:ring-[var(--color-main)]"},null,-1),p=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,i._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),m=[p],f=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,i._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})],-1),v={class:"clear-filter mb-5 flex justify-end"},w=(0,i._)("svg",{class:"w-6 h-6 mr-1",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("g",{id:"Interface / Filter_Off"},[(0,i._)("path",{id:"Vector",d:"M13 4H18.4C18.9601 4 19.2409 4 19.4548 4.10899C19.6429 4.20487 19.7948 4.35774 19.8906 4.5459C19.9996 4.75981 20 5.04005 20 5.6001V6.3448C20 6.58444 20 6.70551 19.9727 6.81942C19.9482 6.92146 19.9072 7.01893 19.8524 7.1084C19.7906 7.20931 19.7043 7.2958 19.5314 7.46875L18 9.00012M7.49961 4H5.59961C5.03956 4 4.75981 4 4.5459 4.10899C4.35774 4.20487 4.20487 4.35774 4.10899 4.5459C4 4.75981 4 5.04005 4 5.6001V6.33736C4 6.58195 4 6.70433 4.02763 6.81942C4.05213 6.92146 4.09263 7.01893 4.14746 7.1084C4.20928 7.20928 4.29591 7.29591 4.46875 7.46875L9.53149 12.5315C9.70443 12.7044 9.79044 12.7904 9.85228 12.8914C9.90711 12.9808 9.94816 13.0786 9.97266 13.1807C10 13.2946 10 13.4155 10 13.6552V18.411C10 19.2682 10 19.6971 10.1805 19.9552C10.3382 20.1806 10.5814 20.331 10.8535 20.3712C11.1651 20.4172 11.5487 20.2257 12.3154 19.8424L13.1154 19.4424C13.4365 19.2819 13.5966 19.2013 13.7139 19.0815C13.8176 18.9756 13.897 18.8485 13.9453 18.7083C14 18.5499 14 18.37 14 18.011V13.6626C14 13.418 14 13.2958 14.0276 13.1807C14.0521 13.0786 14.0926 12.9809 14.1475 12.8915C14.2091 12.7909 14.2952 12.7048 14.4669 12.5331L14.4688 12.5314L15.5001 11.5001M15.5001 11.5001L5 1M15.5001 11.5001L19 15","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),y={class:"filter-item mb-5"},b=(0,i._)("div",{class:"filter-item-header mb-1"}," Тип поиска: ",-1),T={class:"filter-item-body flex gap-5 items-center"},x=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,i._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})],-1),D=[x],S={class:"filter-item mb-5"},C={class:"flex gap-5"},k=(0,i._)("div",{class:"whitespace-nowrap self-end text-base"},"Период дат с",-1),_=["max"],O=(0,i._)("div",{class:"whitespace-nowrap self-end text-base"},"по",-1),N=["min"],I=(0,i._)("div",{class:"whitespace-nowrap self-end text-sm"},"(не включительно)",-1),L={class:"filter-item mb-5 flex gap-5"},E={class:"filter-item-inner w-1/2"},A=(0,i._)("div",{class:"filter-item-header mb-1"}," Сортировка по полю: ",-1),P={class:"filter-item-body"},V={class:"filter-item-inner w-1/2"},B=(0,i._)("div",{class:"filter-item-header mb-1"}," Сортировка: ",-1),Z={class:"filter-item-body"},F={class:"filter-item mb-5 flex gap-5"},H={class:"filter-item-inner w-1/2"},q=(0,i._)("div",{class:"filter-item-header mb-1"}," Статус документа: ",-1),$={class:"filter-item-body"},j={class:"filter-item-inner w-1/2"},R=(0,i._)("div",{class:"filter-item-header mb-1"}," Тип документа: ",-1),K={class:"filter-item-body"},W={class:"main-table-menu pb-6 bg-white relative z-10"},z={class:"main-table-list flex flex-row-reverse"},J={class:"main-table-item"},U=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,i._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),X={class:"main-table-item"},Y=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,i._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})],-1),G={key:1,class:"message px-3 py-6 text-center text-yellow-600 rounded-lg border-yellow-600 border-2 mb-6 text-lg"},Q={class:"flex"},tt={class:""},et={id:"typeSearchModal",class:"modal modal-fixed-footer typeSearchModal",ref:"typeSearchModal"},st=(0,i.uE)('<div class="modal-content flex flex-col"><div class="modal-img inline-block text-[var(--color-main)] mx-auto mb-5 font-bold"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-32 h-32"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"></path></svg></div><div class="worn-text text-3xl text-[var(--color-main)] mb-20 text-center">Информация о типах поиска</div><p class="text-xl mb-6 text-left"><span class="text-2xl font-bold">Общий</span>: поиск документа(-ов) по <span class="font-bold">&quot;Номеру документа&quot;</span>, по <span class="font-bold">&quot;Названию документа&quot;</span> (шаблона документа), по <span class="font-bold">&quot;ФИО&quot;</span> пользователя (можно искать по отдельности, в комбинации ФИ или ИО).</p><p class="text-xl mb-3 text-left"><span class="text-2xl font-bold">По ключевым словам</span>: поиск документа(-ов) который(-е) содержат ключевое(-ые) слово(-ва). При нажатии на поле поиска снизу появляется список ключевых слов, которые есть в системе и могут использоваться для поиска по ключевым словам.</p></div><div class="modal-footer flex justify-evenly"><a href="#" class="modal-close main-btn-invers inline-block rounded-lg px-5 py-3 w-[150px] text-center text-xl">Закрыть</a></div>',2),it=[st];function at(t,e,s,p,x,M){const st=(0,i.up)("Sidebar"),at=(0,i.up)("SelectVue"),nt=(0,i.up)("router-link"),rt=(0,i.up)("Loader"),ot=(0,i.up)("MainTable"),lt=(0,i.up)("Paginate");return(0,i.wg)(),(0,i.iD)(i.HY,null,[r,(0,i._)("div",o,[(0,i._)("div",l,[(0,i.Wm)(st)]),(0,i._)("div",d,[(0,i._)("div",h,[(0,i._)("form",c,[(0,i._)("div",u,[g,(0,i._)("button",{onClick:e[0]||(e[0]=(0,a.iM)(((...t)=>M.clearSearch&&M.clearSearch(...t)),["prevent"])),class:"px-2 py-3 absolute right-0 top-0"},m)]),(0,i._)("button",{onClick:e[1]||(e[1]=(0,a.iM)(((...t)=>M.refresh&&M.refresh(...t)),["prevent"])),type:"submit",class:"main-btn-invers block shrink px-7 rounded-r-xl"},"Найти")]),(0,i._)("button",{onClick:e[2]||(e[2]=(0,a.iM)((t=>this.showFilter=!this.showFilter),["prevent"])),class:"w-2/12 main-btn-invers rounded-xl text-center py-3 flex justify-center"},[f,(0,i.Uk)(" Фильтры ")])]),(0,i._)("div",{class:"filter shadow-md rounded-xl p-5 mb-6 border",ref:"filter",style:(0,n.j5)(this.style)},[(0,i._)("div",v,[(0,i._)("button",{onClick:e[3]||(e[3]=(0,a.iM)((t=>{this.minValueDatePole="",this.maxValueDatePole="",this.resetKey+=1,this.doucmentTypeKey+=1}),["prevent"])),class:"main-btn px-3 py-2 flex"},[w,(0,i.Uk)(" Сбросить фильтры ")])]),(0,i._)("div",y,[b,(0,i._)("div",T,[((0,i.wg)(),(0,i.j4)(at,{class:"search-parameter",message:"Выберите тип поиска",content:["Общий","По ключевым словам"],key:this.resetKey})),(0,i._)("div",{onClick:e[4]||(e[4]=(0,a.iM)(((...t)=>M.showInfo&&M.showInfo(...t)),["prevent"])),class:"help-info cursor-pointer"},D)])]),(0,i._)("div",S,[(0,i._)("div",C,[k,(0,i.wy)((0,i._)("input",{type:"date","onUpdate:modelValue":e[5]||(e[5]=e=>t.minValueDatePole=e),max:this.maxValueDatePole,class:"input-text status-data-menu-date-input"},null,8,_),[[a.nr,t.minValueDatePole]]),O,(0,i.wy)((0,i._)("input",{type:"date","onUpdate:modelValue":e[6]||(e[6]=e=>t.maxValueDatePole=e),min:this.minValueDatePole,class:"input-text status-data-menu-date-input"},null,8,N),[[a.nr,t.maxValueDatePole]]),I])]),(0,i._)("div",L,[(0,i._)("div",E,[A,(0,i._)("div",P,[((0,i.wg)(),(0,i.j4)(at,{class:"search-field",selected:!0,message:"Выберите параметр сортировки",content:["Номер документа","Сотрудники","Стаутс документа","По шаблону документа"],key:this.resetKey}))])]),(0,i._)("div",V,[B,(0,i._)("div",Z,[((0,i.wg)(),(0,i.j4)(at,{class:"search-dir",message:"Выберите тип сортировки",content:["По убыванию","По возрастанию"],key:this.resetKey}))])])]),(0,i._)("div",F,[(0,i._)("div",H,[q,(0,i._)("div",$,[((0,i.wg)(),(0,i.j4)(at,{class:"search-status",type:"filter",selected:!0,message:"Выберите статус документа",content:["Черновик","Готов","Переделать","Архив"],key:this.resetKey}))])]),(0,i._)("div",j,[R,(0,i._)("div",K,[((0,i.wg)(),(0,i.j4)(at,{class:"search-type",type:"filter",selected:!0,message:"Выберите тип документа",content:this.documentTypes,key:t.doucmentTypeKey},null,8,["content"]))])])])],4),(0,i._)("div",W,[(0,i._)("ul",z,[(0,i._)("li",J,[(0,i.Wm)(nt,{to:"/document/structure/select",class:"main-btn py-3 px-5 flex",disabled:!this.roles.includes(this.currentUser.roles[0])},{default:(0,i.w5)((()=>[U,(0,i.Uk)(" Создать ")])),_:1},8,["disabled"])]),(0,i._)("li",X,[(0,i._)("button",{class:"main-btn py-3 px-5 flex",onClick:e[7]||(e[7]=(...t)=>M.refresh&&M.refresh(...t))},[Y,(0,i.Uk)(" Обновить ")])])])]),this.loading?((0,i.wg)(),(0,i.j4)(rt,{key:0,class:"bg-white"})):(0,i.kq)("",!0),!this.loading&&0===this.listDocumentStructures.length&&this.roles.includes(this.currentUser.roles[0])?((0,i.wg)(),(0,i.iD)("div",G,"Невозможно создать документ, пока нет шаблонов документов, обратитесь к техническому администратору.")):(0,i.kq)("",!0),this.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(ot,{key:2,class:"bg-white",header:t.header,content:t.content,noDataMessage:t.noDataMessage},null,8,["header","content","noDataMessage"])),(0,i._)("div",Q,[(0,i._)("div",tt," Всего найдено документов: "+(0,n.zw)(this.countDocuments),1),(0,i.Wm)(lt,{"page-count":this.countPage,"click-handler":M.pageChangeHandler,"prev-text":"Назад","next-text":"Вперед","container-class":"pagination"},null,8,["page-count","click-handler"])])])]),(0,i._)("div",et,it,512)],64)}s(7658);var nt=s(2435),rt=s(6833),ot=s(8310),lt=s(7882),dt=s(6270),ht=s(8806),ct=s(8573),ut=s(2708),gt=s.n(ut),pt=s(4501),mt={name:"DocumentsView",data:()=>({typeSearchModal:null,autocompleteSearch:null,loading:!0,content:[],header:["№ документа","Наименование","Создал","Кафедра","Статус","Дата создания",""],noDataMessage:"По вашему запросу документы не найдены",roles:[ht.v.User,ht.v.Moderator],message:"",listDocumentStructures:[],showFilter:!1,parameter:"",currentPage:1,sortField:"id",sortDir:"desc",minValueDatePole:"",maxValueDatePole:"",autocompleteData:[],currentDocuments:[],countDocuments:0,countPage:0,documentTypes:[],doucmentTypeKey:1,resetKey:1}),async mounted(){dt.Z[this.$route.query.message]&&this.$message(dt.Z[this.$route.query.message]),await ct.Z.getKeyWords().then((t=>{for(let e of t.data)this.autocompleteData.push(e.name)}),(t=>{this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),this.$error(dt.Z[this.message]||"Что-то пошло не так")})),await lt.Z.getDocumentStructures().then((t=>{this.listDocumentStructures=t.data}),(t=>{this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),this.$error(dt.Z[this.message]||"Что-то пошло не так")})),await lt.Z.getAllDocumentTypes().then((t=>{this.documentTypes=[];for(let e of t.data)this.documentTypes.push(e.name);this.doucmentTypeKey+=1}),(t=>{this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),this.$error(dt.Z[this.message]||"Что-то пошло не так")})),setTimeout((()=>{this.typeSearchModal=M.Modal.init(this.$refs.typeSearchModal),this.autocompleteSearch=new(gt())(document.querySelector(".autocomplete"),{enforceWhitelist:!1,whitelist:this.autocompleteData,editTags:!0,dropdown:{enabled:0,closeOnSelect:!1,showOnFocus:!0}}),this.refresh(),this.loading=!1}),0)},methods:{async refresh(){this.loading=!0,await ct.Z.getKeyWords().then((t=>{for(let e of t.data)this.autocompleteData.push(e.name)}),(t=>{this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),this.$error(dt.Z[this.message]||"Что-то пошло не так")})),await lt.Z.getDocumentStructures().then((t=>{this.listDocumentStructures=t.data}),(t=>{this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),this.$error(dt.Z[this.message]||"Что-то пошло не так")})),this.content=[];let t=document.querySelector(".search-parameter li.selected").innerText;t="Общий"===t?"common":"keywords",this.sortField=document.querySelector(".search-field li.selected").innerText,"Выберите параметр сортировки"===this.sortField||"Номер документа"===this.sortField?this.sortField="id":"Сотрудники"===this.sortField?this.sortField="user_id":"Стаутс документа"===this.sortField?this.sortField="document_status_id":"По шаблону документа"===this.sortField&&(this.sortField="document_structure_id"),this.sortDir=document.querySelector(".search-dir li.selected").innerText,"По убыванию"===this.sortDir?this.sortDir="desc":this.sortDir="asc";let e=document.querySelector(".search-status li.selected").innerText;"Выберите статус документа"===e&&(e="");let s=document.querySelector(".search-type li.selected").innerText;"Выберите тип документа"===s&&(s=""),this.parameter=this.autocompleteSearch.value.map((function(t){return t.value})).join(" "),await lt.Z.getDocuments(t,this.parameter,this.currentPage,this.sortField,this.sortDir,e,this.minValueDatePole,this.maxValueDatePole,s).then((t=>{this.currentDocuments=[],this.currentDocuments=t.data.documents,this.countDocuments=t.data.totalItems,this.countPage=t.data.totalPages,this.content=[];for(const e of t.data.documents)this.content.push([{type:"id",text:e.id},{type:e.documentStructure.name.length<=20?"onlyText":"text",text:e.documentStructure.name,shortTest:e.documentStructure.name.length<=20?e.documentStructure.name:e.documentStructure.name.substr(0,20)+"..."},{type:"text",text:e.user.lastName+" "+e.user.name+" "+e.user.patronymic,shortTest:e.user.id===this.$store.state.auth.user.id?"Вы":e.user.lastName+" "+e.user.name[0]+". "+e.user.patronymic[0]+"."},{type:"text",text:e.user.department.name,shortTest:e.user.department.shortName},{type:"docStatus",text:e.documentStatus.name},{type:"date",text:e.dateCreate},{type:"link",text:"Подробнее",link:"/document/"+e.id}])}),(t=>{this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),this.$error(dt.Z[this.message]||"Что-то пошло не так")})),await lt.Z.getDocumentStructures().then((t=>{this.listDocumentStructures=t.data}),(t=>{this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),this.$error(dt.Z[this.message]||"Что-то пошло не так")})),this.loading=!1},clearSearch(){this.parameter="",this.autocompleteSearch.removeAllTags()},showInfo(){this.typeSearchModal.open()},pageChangeHandler:async function(t){this.currentPage!==t&&(this.currentPage=t,await this.refresh())}},computed:{currentUser(){return this.$store.state.auth.user},style(){return`height: ${this.showFilter?this.$refs.filter.scrollHeight+20:0}px; padding: ${this.showFilter?"1.25rem":"0px"}; border-width: ${this.showFilter?"1px":"0px"}; opacity: ${this.showFilter?1:0}; overflow: ${this.showFilter?"visible":"hidden"}; margin-bottom: ${this.showFilter?1.25:0}rem;`}},beforeDestroy(){this.autocompleteSearch&&this.autocompleteSearch.destroy&&this.autocompleteSearch.destroy(),this.typeSearchModal&&this.typeSearchModal.destroy&&this.typeSearchModal.destroy()},components:{Sidebar:nt.Z,Paginate:pt.Z,MainTable:rt.Z,SelectVue:ot.Z}},ft=s(89);const vt=(0,ft.Z)(mt,[["render",at]]);var wt=vt}}]);
//# sourceMappingURL=620.372c87e7.js.map